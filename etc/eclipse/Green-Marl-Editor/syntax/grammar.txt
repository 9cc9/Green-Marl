/**
* Grammer for Graph Langauge
*/


%

%union


/* Reserved Words */
%token "Procedure" "Graph" "Node" "Node_Property" "Edge" "Edge_Property" "Local"
%token "Node_Set" "Node_Order" "Node_Sequence" "Items"
%token "InDFS" "InPost"
%token "Int" "Float" "Bool" "Double" "Long"
%token "Return"
%token "InBFS" "InRBFS" "From" "To" "InReverse"
%token "Foreach" "For"
%token "Nodes" "Edges" "OutNbrs" "InNbrs" "UpNbrs" "DownNbrs"
%token "CommonNbrs";
%token "Sum" "Product" "Min" "Max" "Count" "All" "Exist" "Avg"
%token T_EMPTYLINE
%token "And" "||" "==" "!=" "<=" ">="
%token "If" "Else" "Do" "While"
%token "+=" "*=" "min=" "max=" "++" ""And"EQ=" "|="
%token "-INF" "INF"
%token "::" "->"
%token "NIL"

%token <text> ID
%token <text> USER_TEXT
%token <ival> INT_NUM
%token <fval> FLOAT_NUM
%token <bval> BOOL_VAL


%type <bval> opt_tp
%type <ptr> id lhs rhs expr bool_expr numeric_expr
%type <ptr> sent sent_block sent_assignment sent_variable_decl sent_foreach sent_if
%type <pair> foreach_header
%type <pair> rhs_list2 lhs_list2
%type <ptr> foreach_filter
%type <ptr> sent_do_while sent_while sent_return sent_call
%type <ptr> sent_reduce_assignment sent_defer_assignment
%type <ptr> sent_bfs bfs_filter bfs_navigator sent_dfs
%type <pair> bfs_reverse bfs_filters dfs_post
%type <ival> from_or_semi
%type <ptr> arg_decl typedecl property prim_type graph_type arg_target var_target
%type <ptr> edge_type node_type nodeedge_type set_type optional_bind
%type <ptr> scala field
%type <ptr> sent_argminmax_assignment
%type <pair> iterator1
%type <ival> reduce_eq
%type <ival> reduce_op reduce_op2
%type <ival> minmax_eq
%type <bval> inf
%type <ptr> built_in
%type <pair> bfs_header_format
%type <e_list> arg_list expr_list
%type <l_list> lhs_list
%type <ptr> expr_user sent_user

/* operator precedence
* Lower is higher
*/
%left "?"
%left ":"
%left "||"
%left "And"
%left "==" "!="
%left "<" ">" "<=" ">="
%left "+" "-"
%left "*" "/" "%"
%right NEG

%glr-parser

%%





%%

